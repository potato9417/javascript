<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>거지같은 계산기새기</title>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/calculator.css">
</head>
<body>
    <div id="calculator">
        <h1>거지같은 계산기</h1>
        <div id="result"> 
        </div>
        <div>
            <button id="ce">CE</button> <button id="clear">C</button> <button id="backSpace"><i class="xi-arrow-left"></i></button> <button id="divide">/</button>
        </div>
        <div>
            <button id="num07">7</button> <button id="num08">8</button> <button id="num09">9</button> <button id="multiple"><i class="xi-close"></i></utton>
        </div>
        <div>
            <button id="num04">4</button> <button id="num05">5</button> <button id="num06">6</button> <button id="minus"><i class="xi-minus"></i></button>
        </div>
        <div>
            <button id="num01">1</button> <button id="num02">2</button> <button id="num03">3</button> <button id="plus"><i class="xi-plus"></i></button>
        </div>
        <div>
            <button id="icon"><i class="xi-calculator"></i></button> <button id="num00">0</button> <button id="point">.</button> <button id="equal">=</button>
        </div>
    </div>

    <script>
        // 치환
        var cal = document.querySelector("#calculator");
        var result = document.querySelector("#result");
        var clear = document.querySelector("#clear");
        var ce = document.querySelector("#ce");
        var divide = document.querySelector("#divide");
        var back = document.querySelector("#back");
        var multiple = document.querySelector("#multiple");
        var minus = document.querySelector("#minus");
        var plus = document.querySelector("#plus");
        var point = document.querySelector("#point");
        var equal = document.querySelector("#equal");
        var backSpace = document.querySelector("#backSpace");
        var num00 = document.querySelector("#num00");
        var num01 = document.querySelector("#num01");
        var num02 = document.querySelector("#num02");
        var num03 = document.querySelector("#num03");
        var num04 = document.querySelector("#num04");
        var num05 = document.querySelector("#num05");
        var num06 = document.querySelector("#num06");
        var num07 = document.querySelector("#num07");
        var num08 = document.querySelector("#num08");
        var num09 = document.querySelector("#num09");
        

        
        // var numClick = false;
        // function addNumber(num) { 
        //     if(numClick === false) { //클릭한게 숫자가 아니면 
        //         if(isNaN(num) === true) { //숫자가 아니라면

        //         }
        //         else { //숫자가 맞다면
        //             result.innerHTML = result.innerHTML + num; 
        //         }
        //     }
        //     else {
        //         result.innerHTML = result.innerHTML + num;
        //     }
        //     if(isNaN(num) === true) { //숫자가 아니면
        //         numClick = false; //연산자
        //     }
        //     else {
        //         numClick = true; //숫자
        //     }
        // };


        var numClick = true;
        function addNumber(num) {        //addNumber() 함수이름 num 변수
            if(numClick === true) {        //만약 숫자버튼을 클릭했다면
                result.innerHTML = result.innerHTML + num;        //변수를 그대로 붙여라
            }
            else {        //숫자버튼을 클릭 하지 않았다면
                if(isNaN(num) === true) {        //변수가 숫자가 아니면

                } 
                else {        //변수가 숫자이면
                    result.innerHTML = result.innerHTML + num;         //변수를 그대로 붙여라
                }
            }
            if(isNaN(num) === true) {        //변수가 숫자가 아니면
                numClick = false;       //숫자버튼을 클릭하지 않는다
            }
            else {
                numClick = true;        //숫자버튼을 클릭한다
            }
        }

        //numClick이 true 일때만 연산이 이루어지므로 숫자버튼 클릭시마다 true 로 설정.
        // isNaN(not a number)숫자가 아니면 / 숫자인지 아닌지 확인해줌 false면 숫자(문자형 숫자도 포함)
        

        // 클릭했을때 result에 나오게 함
        num00.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "0";
            addNumber(0);
        });
        num01.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "1";
            addNumber(1);
        });
        num02.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "2";
            addNumber(2);
        });
        num03.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "3";
            addNumber(3);
        });
        num04.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "4";
            addNumber(4);
        });
        num05.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "5";
            addNumber(5);
        });
        num06.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "6";
            addNumber(6);
        });
        num07.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "7";
            addNumber(7);
        });
        num08.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "8";
            addNumber(8);
        });
        num09.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "9";
            addNumber(9);
        });
        plus.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "+";
            addNumber("+");
        });
        minus.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "-";
            addNumber("-");
        });
        multiple.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "*";
            addNumber("*");
        });
        divide.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + "/";
            addNumber("/");
        });
        point.addEventListener("click",function(){
            // result.innerHTML = result.innerHTML + ".";
            addNumber(".");
        });
        equal.addEventListener("click",function(){
            result.innerHTML = eval(result.innerHTML);
        });// eval(); 은 문자로 표시된 숫자도 다 계산해줌
        clear.addEventListener("click",function(){
            result.innerHTML = "";
        })
        ce.addEventListener("click",function(){
            result.innerHTML = "";
        })
        // 백스페이스 
        backSpace.addEventListener("click",function(){
            result.innerHTML = result.innerHTML.substring(0,result.innerHTML.length - 1);
        });
            
        // .substring(start,end)은 문자열에서 특정 부분만 골라낼 때 사용하는 메서드
        // 


        // console.log(isNaN("10"));
        // isNaN(not a number)숫자가 아니면 / 숫자인지 아닌지 확인해줌 false면 숫자(문자형 숫자도 포함)

        
        // function bs() {
        //     calc.txt.value = calc.txt.value.substring(0, calc.txt.value.length - 1);
        //     // substring 으로 0부터 value 길이에서 -1 한 만큼의 길이를 출력한다
        // }

    </script>
</body>
</html>